{% import (
  "github.com/kyleu/solitaire/app"
  "github.com/kyleu/solitaire/app/controller/cutil"
  "github.com/kyleu/solitaire/views/components"
  "github.com/kyleu/solitaire/views/layout"
) %}

{% code type Testbed struct { layout.Basic } %}

{% func (p *Testbed) Body(as *app.State, ps *cutil.PageState) %}
{%= icons(as, ps) %}
{%= tabs(as, ps) %}
{%= accordion(as, ps) %}
{%= modal(as, ps) %}
{% endfunc %}

{%- func icons(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>SVG Icons</h3>
    {%= components.IconGallery(as, ps) %}
  </div>
{%- endfunc -%}

{%- func tabs(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Tabs</h3>
    <div class="tabs">
      {%- for _, o := range []string{"Alpha", "Beta", "Gamma", "Delta", "Epsilon"} -%}
      <input name="type" type="radio" id="tab-{%s o %}" class="input"/>
      <label for="tab-{%s o %}" class="label">{%s o %}</label>
      <div class="panel"><p>This is a tab named {%s o %}</p></div>
      {%- endfor -%}
    </div>
  </div>
{%- endfunc -%}

{%- func accordion(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Accordion</h3>
    <ul class="accordion">
      <li>
        <input id="accordion-a" type="checkbox" hidden />
        <label for="accordion-a">{%= components.ExpandCollapse(3, ps) %} Option A</label>
        <div class="bd-animated"><div><div>Option A!</div></div></div>
      </li>
      <li>
        <input id="accordion-b" type="checkbox" hidden />
        <label for="accordion-b">{%= components.ExpandCollapse(3, ps) %} Option B</label>
        <div class="bd-animated"><div><div>Option B!</div></div></div>
      </li>
      <li>
        <input id="accordion-c" type="checkbox" hidden />
        <label for="accordion-c">{%= components.ExpandCollapse(3, ps) %} Option C (not animated)</label>
        <div class="bd">Option C!</div>
      </li>
    </ul>
  </div>
{%- endfunc -%}

{%- func modal(as *app.State, ps *cutil.PageState) -%}
  <div class="card">
    <h3>Modal</h3>
    <div class="mt"><a href="#modal-x"><button>Open modal</button></a></div>
  </div>
  <div id="modal-x" class="modal" style="display: none;">
    <a class="backdrop" href="#"></a>
    <div class="modal-content">
      <div class="modal-header">
        <a href="#" class="modal-close">Ã—</a>
        <h2>Modal</h2>
      </div>
      <div class="modal-body">
        Here's a modal body!
      </div>
    </div>
  </div>
{%- endfunc -%}
