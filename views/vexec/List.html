<!-- Content managed by Project Forge, see [projectforge.md] for details. -->
{% import (
  "github.com/kyleu/solitaire/app"
  "github.com/kyleu/solitaire/app/controller/cutil"
  "github.com/kyleu/solitaire/app/lib/exec"
  "github.com/kyleu/solitaire/app/util"
  "github.com/kyleu/solitaire/views/components"
  "github.com/kyleu/solitaire/views/layout"
) %}

{% code type List struct {
  layout.Basic
  Execs exec.Execs
} %}

{% func (p *List) Body(as *app.State, ps *cutil.PageState) %}
  <div class="card">
    <div class="right"><a href="/admin/exec/new" title="start a new process">{%= components.SVGRefIcon(`plus`, ps) %}</a></div>
    <h3>{%= components.SVGRefIcon(`terminal`, ps) %} {%s util.StringPlural(len(p.Execs), "Process") %}</h3>
    {%= Table(p.Execs, as, ps) %}
  </div>
{% endfunc %}
